# **Lesson-08**

## 一、 进制单位

生活中，我们常见的计数进制为十进制，计算机处理数据是将数据保存为二进制数据并用来计算处理，常见的进制还有八进制和十六进制。同样的数据，可以用不同进制进行表示。
* 十进制：人类对数据存储、运算
* 二进制：计算机底层进行数据存储、运算
* 八进制/十六进制：编程中对数据进行换算
  
<img src='_media/3-8-1.png' alt='进制' style='zoom:40%;'/>

对于数字，在二进制、十进制、八进制、十六进制之间，十进制和可以和其他进制相互转换，其他进制之间不可以相互转换，如果转换则需要先转换为十进制。

* 十进制转二进制，使用`bin()`函数进行转换，得出结果是以`0b`开头的字符串，所以`0b`就可以表示二进制数值；
* 十进制转八进制，使用`oct()`函数进行转换，得出结果是以`0o`开头的字符串，所以`0o`就可以表示八进制数值；
* 十进制转十六进制，使用`hex()`函数进行转换，得出结果是以`0x`开头的字符串，所以`0x`就可以表示十六进制数值。

在其他进制转为十进制过程中，则以`int()`函数进行转换，第一个参数为由其他进制数值组成的字符串，第二个参数为相应的进制数值。

<img src='_media/3-8-2.png' alt='进制' style='zoom:40%;'/>

```python
# 十进制转二进制
>>> bin(50)
'0b110010'

# 十进制转八进制
>>> oct(50)
'0o62'

# 十进制转十六进制
>>> hex(50)
'0x32'

# 二进制转十进制
>>> int('0b1100100', base=2)
100

# 二进制转八进制
>>> int('0o50', base=8)
40

# 二进制转十六进制
>>> int('0x50', base=16)
80
```

## 二、 数据存储单位

了解了计算机中存储、计算数据所使用基本形式，我们就可以了解一下数据在计算机中占用空间的的大小。
类似于描述一个物体的质量大小，基本单位是克，越重的物体可以使用千克或者吨进行表示。克、千克、吨就是常用的物体质量单位。

> 位 - `b (bit)`

1位存储一个二进制码

|数据|占用内存|表示|
|:---|:---:|:---:|
|1|1位|1b|
|10|2位|2b|
|100|3位|3b|
|10000|4位|4b|

> 字节 - `B (byte)`

8b = 1B

|数据|占用内存|表示|
|:---|:---:|:---:|
|10000101|1个字节|1B|
|10000101 10000101|2个字节|2B|

> 千字节 - `KB（kilobyte）`

1 KB = 1024 B

> 兆 - `M（Megabyte）`

1 M = 1024 KB = 1024 *1024 B

> 千兆 - `G（Gigabyte）`

1 G = 1024 M = 1024 *1024 * 1024 B

## 三、编码

> 1、ASCII编码（英文）

在计算机发明之初，为了服务美国以及西欧国家的使用（计算机是由美国人发明的），美国国家标准学会基于拉丁字母制定了一套编程系统，主要用于显示现代英语和其他西欧语言，这个就是ASCII ((American Standard Code for Information Interchange)码ASCII第一次以规范标准的类型发表是在1967年，最后一次更新则是在1986年，到目前为止共定义了128个字符。

由于西方语言通用字母或符号较少，所以7位二进制就可以完全进行表示。7为二进制可以表示128种状态，所以目前ASCII共定义了128个字符。

<img src='_media/3-8-3.png' alt='ASCII编码' style='zoom:40%;'/>

ASCII码对照表：<https://www.ascii-code.cn/>

<img src='_media/3-8-4.png' alt='ASCII编码' style='zoom:40%;'/>

```python
# 十进制字符转十进制ASCII码
>>> ord('1')
49

>>> ord('a')
97

# 十进制ASCII码转十进制字符
>>> chr(97)
'a'
```

**注意：** 字符串`'1'`和整数`1`的ascii是不一样的。字符串`'1'`的二进制为`0b00110001`，整数`1`的二进制为`0b00000001`。

> 2、gbk编码（中文）

由于ascii编码只能最多表示256种字符，所以远远满足不了中文、韩文、日文等语言表示。在1980年，国家信息标准委员会制定了gb-2312编码，后来又制定了gbk编码，对gb-2312编码进行了扩充，用以表示中日韩等文字。
`gbk编码`是用`2个字节`表示单个中文字符。

<img src='_media/3-8-5.png' alt='gbk编码' style='zoom:40%;'/>

> 3、unicode 编码（通用）

国际上为了统一计算机编码，制定了unicode编码，为全球的每个文字都分配了一个码位（二进制）。unicode编码又称之为万国码。

在unicode编码中，ucs2编码是用固定的2个字节表示一个文字，ucs4编码是用固定的4个字节表示一个文字。

unicode编码对照表：<https://unicode-table.com/en/>

<img src='_media/3-8-6.png' alt='unicode编码' style='zoom:40%;'/>

在unicode编码中，我们可以查询到每个字符对应的十六进制码，然后分别通过`int()`函数和`bin()`函数将十六进制转换为对应的二进制码。

从结果看来，由于不同字符对应的二进制大小不同，所以对于没有占满2个字节或者4个字节的二进制码，需要在前面补充0，以补满2个字节或者4个字节，这样就浪费了内存。

<img src='_media/3-8-7.png' alt='unicode编码' style='zoom:40%;'/>

> 4、utf-8 编码（通用）

utf-8是站在unicode编码的“肩膀上”完成的编码，实际上utf-8是对unicode编码的压缩。一般中文使用3个字节进行表示。

<img src='_media/3-8-8.png' alt='unicode编码' style='zoom:40%;'/>


> 5、Python相关编码

在python中，默认的字符编码形式为unicode编码，在文件存储或者网络处理数据中，一般需要将文件内容存储为字节的形式，也就是utf-8或者gbk编码的形式。
在windows系统中，默认的系统编码形式为gbk编码，但是python编辑器默认的编码形式为utf-8编码，所以为了python编译器中正常输出，必须转为utf-8的格式。

<img src='_media/3-8-9.png' alt='unicode编码' style='zoom:40%;'/>

## 三、案例

例题：从键盘输入一个整数，在屏幕上显示输出该整数对应的十六进制、八进制和二进制的表现形式。

```python
# 方法一：使用对应函数
number = int(input('Enter an integer: '))
number_b = bin(number)
number_o = oct(number)
number_x = hex(number)
print('decimal: ', number)
print('binary: ', number_b)
print('Octal: ', number_o)
print('hexadecimal: ', number_x)

# 输入：56
# 输出：56    0b111000    0o70    ox38

# 方法二：使用format函数
number = int(input('Enter an integer: '))
print('decimal: {0}, binary: {0:b}, Octal: {0:o}, hexadecimal: {0:x}'.format(number))

# 输入：56
# 输出: 'decimal: 56, binary: 111000, Octal: 70, hexadecimal: 38'
```